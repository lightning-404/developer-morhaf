<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø© Ø§Ù„Ø°ÙƒÙŠ</title>

<style>
html, body {
    margin: 0; padding: 0;
    font-family: Tahoma, Arial;
    background: linear-gradient(135deg, #0a2342, #1a4c7c);
    color: white;
}
.logo {
    text-align: center;
    font-size: 32px;
    font-weight: bold;
    margin-top: 15px;
    color: #ffdd33;
    text-shadow: 0 0 8px #ffe066;
}
.container {
    max-width: 420px;
    background: #ffffffee;
    margin: 20px auto;
    border-radius: 15px;
    padding: 20px;
    color: #0a2342;
}
h2 { text-align: center; }
label { font-weight: bold; margin-top: 10px; display: block; }

input, select {
    width: 100%; padding: 12px; margin-top: 5px;
    border-radius: 8px; border: 1px solid #777;
}
button {
    width: 100%; padding: 12px; margin-top: 15px;
    background: #0f4c75; color: white; border: none;
    border-radius: 10px; font-size: 18px;
}
.pay-method {
    display: flex; gap: 10px; margin-top: 10px;
}
.pm-btn {
    flex: 1; text-align: center; padding: 10px;
    background: #ddd; border-radius: 8px; cursor: pointer;
    font-weight: bold;
}
.pm-btn.active { background: #0f4c75; color: white; }
.result-box {
    background: #f3f3f3;
    border-radius: 10px;
    padding: 15px;
    margin-top: 20px;
}
</style>
</head>

<body>

<div class="logo">Morhaf Site</div>

<div class="container">

<h2>Ù…Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø© (Ù‚Ø¯ÙŠÙ… â‡„ Ø¬Ø¯ÙŠØ¯)</h2>

<label>Ø³Ø¹Ø± Ø§Ù„Ø³Ù„Ø¹Ø©(Ø§Ù„ØºØ±Ø¶):</label>
<input type="number" id="price" placeholder="Ù…Ø«Ø§Ù„: 5000 Ø£Ùˆ 50">

<label>Ø¹Ù…Ù„Ø© Ø§Ù„Ø³Ø¹Ø± Ù„Ù„ØºØ±Ø¶:</label>
<select id="priceCurrency">
    <option value="old">Ù‚Ø¯ÙŠÙ…</option>
    <option value="new">Ø¬Ø¯ÙŠØ¯</option>
</select>

<label>Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯ÙØ¹:</label>
<div class="pay-method">
    <div class="pm-btn active" id="btnPayNew" onclick="setPay('new')">Ø¯ÙØ¹ Ø¬Ø¯ÙŠØ¯</div>
    <div class="pm-btn" id="btnPayOld" onclick="setPay('old')">Ø¯ÙØ¹ Ù‚Ø¯ÙŠÙ…</div>
    <div class="pm-btn" id="btnPayMix" onclick="setPay('mix')">Ù…Ø®ØªÙ„Ø·</div>
</div>

<!-- Ø¯ÙØ¹ Ø¬Ø¯ÙŠØ¯ -->
<div id="payNewBox">
    <label>Ø§Ù„Ù…Ø¯ÙÙˆØ¹ Ø¨Ø§Ù„Ø¬Ø¯ÙŠØ¯:</label>
    <input type="number" id="paidNew">
</div>

<!-- Ø¯ÙØ¹ Ù‚Ø¯ÙŠÙ… -->
<div id="payOldBox" style="display:none;">
    <label>Ø§Ù„Ù…Ø¯ÙÙˆØ¹ Ø¨Ø§Ù„Ù‚Ø¯ÙŠÙ…:</label>
    <input type="number" id="paidOld">
</div>

<!-- Ø¯ÙØ¹ Ù…Ø®ØªÙ„Ø· -->
<div id="payMixBox" style="display:none;">
    <label>Ø¨Ø§Ù„Ø¬Ø¯ÙŠØ¯:</label>
    <input type="number" id="mixNew">
    <label>Ø¨Ø§Ù„Ù‚Ø¯ÙŠÙ…:</label>
    <input type="number" id="mixOld">
</div>

<button onclick="calculate()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø¨Ø§Ù‚ÙŠ</button>

<div class="result-box">
    <p><strong>Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø­Ø³Ø§Ø¨:</strong></p>
    <p id="calcInfo">â€”</p>
    <p><strong>Ø¥Ù…Ù‘Ø§ Ø¨Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> <span id="resultNew">-</span></p>
    <p><strong>Ø£Ùˆ Ø¨Ø§Ù„Ù‚Ø¯ÙŠÙ…:</strong> <span id="resultOld">-</span></p>
    <p><strong>Ù…Ø®ØªÙ„Ø·:</strong> <span id="resultMix">-</span></p>
</div>

<hr style="margin-top:30px; border:0.5px solid #ccc;">

<h2>Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ù„Ù„Ø¹Ù…Ù„Ø© Ø¨Ø§Ù„Ù„ÙŠØ±Ø©</h2>

<div class="pay-method">
    <div class="pm-btn active" id="dirNewToOld" onclick="setDir('newToOld')">Ù…Ù† Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ù‰ Ù‚Ø¯ÙŠÙ…</div>
    <div class="pm-btn" id="dirOldToNew" onclick="setDir('oldToNew')">Ù…Ù† Ù‚Ø¯ÙŠÙ… Ø§Ù„Ù‰ Ø¬Ø¯ÙŠØ¯</div>
</div>

<label>Ø£Ø¯Ø®Ù„ Ø§Ù„Ù‚ÙŠÙ…Ø© Ù„Ù„ØªØ­ÙˆÙŠÙ„:</label>
<input type="number" id="directValue">

<button onclick="directConvert()">ØªØ­ÙˆÙŠÙ„</button>

<div class="result-box">
    <p><strong>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong> <span id="directResult">-</span></p>
</div>

</div>

<script>

let payType = "new";
let directType = "newToOld";

function setPay(type) {
    payType = type;
    document.getElementById("btnPayNew").classList.remove("active");
    document.getElementById("btnPayOld").classList.remove("active");
    document.getElementById("btnPayMix").classList.remove("active");

    document.getElementById("payNewBox").style.display = "none";
    document.getElementById("payOldBox").style.display = "none";
    document.getElementById("payMixBox").style.display = "none";

    if (type === "new") {
        document.getElementById("btnPayNew").classList.add("active");
        document.getElementById("payNewBox").style.display = "block";
    }
    if (type === "old") {
        document.getElementById("btnPayOld").classList.add("active");
        document.getElementById("payOldBox").style.display = "block";
    }
    if (type === "mix") {
        document.getElementById("btnPayMix").classList.add("active");
        document.getElementById("payMixBox").style.display = "block";
    }
}

function calculate() {

    let price = parseFloat(document.getElementById("price").value) || 0;
    let currency = document.getElementById("priceCurrency").value;

    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø³Ø¹Ø± Ø¥Ù„Ù‰ Ø¬Ø¯ÙŠØ¯ Ø¯Ø§Ø¦Ù…Ø§Ù‹
    let priceNew = currency === "old" ? price / 100 : price;

    // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¯ÙÙˆØ¹ Ø¥Ù„Ù‰ Ø¬Ø¯ÙŠØ¯
    let paidNew = 0;

    if (payType === "new") {
        paidNew = parseFloat(document.getElementById("paidNew").value) || 0;
    }
    if (payType === "old") {
        let valOld = parseFloat(document.getElementById("paidOld").value) || 0;
        paidNew = valOld / 100;
    }
    if (payType === "mix") {
        let n = parseFloat(document.getElementById("mixNew").value) || 0;
        let o = parseFloat(document.getElementById("mixOld").value) || 0;
        paidNew = n + (o / 100);
    }

    let diff = paidNew - priceNew;

    if (diff === 0) {
        calcInfo.textContent = "ØªÙ… Ø§Ù„Ø¯ÙØ¹ ÙƒØ§Ù…Ù„Ù‹Ø§.";
        resultNew.textContent = 0;
        resultOld.textContent = 0;
        resultMix.textContent = "0 Ø¬Ø¯ÙŠØ¯ + 0 Ù‚Ø¯ÙŠÙ…";
        return;
    }

    if (diff < 0) {
        let needNew = Math.abs(diff);
        let needOld = needNew * 100;

        calcInfo.textContent = "ğŸ‘‡Ø§Ù†Øª Ø¯Ø§ÙØ¹ Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ø³Ø¹Ø± - ÙŠØ¨Ù‚Ù‰ Ø¹Ù„ÙŠÙƒğŸ‘‡ğŸ»";
        resultNew.textContent = needNew.toFixed(2);
        resultOld.textContent = needOld.toFixed(0);
        resultMix.textContent = `${Math.floor(needNew)} Ø¬Ø¯ÙŠØ¯ + ${Math.round((needNew-Math.floor(needNew))*100)} Ù‚Ø¯ÙŠÙ…`;
    }

    if (diff > 0) {
        let backNew = diff;
        let backOld = backNew * 100;

        calcInfo.textContent = "ğŸ‘‡ğŸ»Ø§Ù†Øª Ø¯Ø§ÙØ¹ Ø£ÙƒØ«Ø± Ù…Ù† Ø§Ù„Ø³Ø¹Ø±- Ø¨ÙŠØ±Ø¬Ø¹Ù„ÙƒğŸ‘‡ğŸ»";
        resultNew.textContent = backNew.toFixed(2);
        resultOld.textContent = backOld.toFixed(0);
        resultMix.textContent = `${Math.floor(backNew)} Ø¬Ø¯ÙŠØ¯ + ${Math.round((backNew-Math.floor(backNew))*100)} Ù‚Ø¯ÙŠÙ…`;
    }
}

function setDir(type) {
    directType = type;
    document.getElementById("dirNewToOld").classList.remove("active");
    document.getElementById("dirOldToNew").classList.remove("active");

    if (type === "newToOld") document.getElementById("dirNewToOld").classList.add("active");
    else document.getElementById("dirOldToNew").classList.add("active");
}

function directConvert() {
    let val = parseFloat(document.getElementById("directValue").value) || 0;

    if (directType === "newToOld")
        directResult.textContent = (val * 100).toFixed(0) + " Ù„ÙŠØ±Ø© Ø¹Ù…Ù„Ø© Ù‚Ø¯ÙŠÙ…Ø©";
    else
        directResult.textContent = (val / 100).toFixed(2) + " Ù„ÙŠØ±Ø© Ø¹Ù…Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©";
}

</script>

</body>
</html>
